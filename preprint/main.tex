%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                                       %
%    LaTeX source code `ioplau2e.tex' used to generate `author         %
%    guidelines', the documentation explaining and demonstrating use   %
%    of the Institute of Physics Publishing LaTeX preprint files       %
%    `iopart.cls, iopart12.clo and iopart10.clo'.                      %
%                                                                      %
%    `ioplau2e.tex' itself uses LaTeX with `iopart.cls'                %
%                                                                      %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
%
% First we have a character check
%
% ! exclamation mark    " double quote  
% # hash                ` opening quote (grave)
% & ampersand           ' closing quote (acute)
% $ dollar              % percent       
% ( open parenthesis    ) close paren.  
% - hyphen              = equals sign
% | vertical bar        ~ tilde         
% @ at sign             _ underscore
% { open curly brace    } close curly   
% [ open square         ] close square bracket
% + plus sign           ; semi-colon    
% * asterisk            : colon
% < open angle bracket  > close angle   
% , comma               . full stop
% ? question mark       / forward slash 
% \ backslash           ^ circumflex
%
% ABCDEFGHIJKLMNOPQRSTUVWXYZ 
% abcdefghijklmnopqrstuvwxyz 
% 1234567890
%% This is file `elsarticle-template-1-num.tex',
%%
%% Copyright 2009 Elsevier Ltd
%%
%% This file is part of the 'Elsarticle Bundle'.
%% ---------------------------------------------
%%
%% It may be distributed under the conditions of the LaTeX Project Public
%% License, either version 1.2 of this license or (at your option) any
%% later version.  The latest version of this license is in
%%    http://www.latex-project.org/lppl.txt
%% and version 1.2 or later is part of all distributions of LaTeX
%% version 1999/12/01 or later.
%%
%% Template article for Elsevier's document class `elsarticle'
%% with numbered style bibliographic references
%%
%% $Id: elsarticle-template-1-num.tex 149 2009-10-08 05:01:15Z rishi $
%% $URL: http://lenova.river-valley.com/svn/elsbst/trunk/elsarticle-template-1-num.tex $
%%
%\documentclass[paper]{elsarticle}

\documentclass[review]{elsarticle}

%% The lineno packages adds line numbers. Start line numbering with
%% \begin{linenumbers}, end it with \end{linenumbers}. Or switch it on
%% for the whole article with \linenumbers after \end{frontmatter}.
\usepackage{lineno,hyperref}
\modulolinenumbers[5]

%% Use the option review to obtain double line spacing
%% \documentclass[preprint,review,12pt]{elsarticle}

%% Use the options 1p,twocolumn; 3p; 3p,twocolumn; 5p; or 5p,twocolumn
%% for a journal layout:
%% \documentclass[final,1p,times]{elsarticle}
%% \documentclass[final,1p,times,twocolumn]{elsarticle}
%% \documentclass[final,3p,times]{elsarticle}
%% \documentclass[final,3p,times,twocolumn]{elsarticle}
%% \documentclass[final,5p,times]{elsarticle}
%% \documentclass[final,5p,times,twocolumn]{elsarticle}

\usepackage{graphicx}
\usepackage{amssymb}
%% \usepackage{amsthm}

\usepackage{subfig}
%\usepackage{cite}

\journal{Physica A}

\begin{document}

\begin{frontmatter}
%% Title, authors and addresses
\title{Centrality indexes in social character networks}

\author[1]{Adriano de Jesus Holanda*}
\author[1]{Mariane Matias}
\author[2]{Gisele M. Louren\c{c}o Benevides}
\author[1]{Sueli Mara Ferreira}
\author[1]{Osame Kinouchi}
\address[1]{Faculdade de Filosofia, 
Ci\^encias e Letras de Ribeir\~ao Preto\\
Universidade de S\~ao Paulo, Av. Bandeirantes 3900, CEP 14040-901, 
Ribeir\~ao Preto, SP, Brazil}
\address[2]{Prefeitura do Campus USP de Ribeir\~ao Preto\\
Universidade de S\~ao Paulo, Av. Bandeirantes 3900, CEP 14040-901, 
Ribeir\~ao Preto, SP, Brazil}

\cortext[cor1]{Corresponding author. 
\\E-mails: aholanda@usp.br (A. J. Holanda),
okinouchi@gmail.com (O. Kinouchi)}

\begin{abstract}
We compare the social character networks of biographical, 
legendary and fictional texts,
in search of statistical marks of historical information. 
We examine the frequency of citation of character names and 
find a Zipf Law that does not depend on the literary 
genera and historical content.
We also examine global and local complex networks indexes,
in special correlation plots between the recently introduced Lobby index
and Degree, Betweenness and Closeness centralities. We also found no
relevant differences in the books for these network indexes.
We discovered, however, that a very simple index based in 
the \emph{Hapax Legomena} phenomenon (names cited a single 
time along the text) that seems to have the potential of separating
pure fiction from legendary and biographical texts.
\end{abstract}

\begin{keyword}
Social networks \sep Character network 
\sep Lobby index \sep Hirsch index 

\end{keyword}

\end{frontmatter}

%%
%% Start line numbering here if you want
%%
\linenumbers

\section{Introduction}

Social networks extracted from literary texts have been studied from some
years to now. Most of the analysis try to characterize the networks
of pure fictional texts with different indexes~\cite{choi2007,mac2012,agarwal2012,mac2013,kenna2016,ribeiro2016}.
Some intend to examine in what extent
fictional social networks are similar or not to real (e.g. Facebook)
networks~\cite{alberich2002,gleiser2007} 
and other propose or test automatic social network
extraction algorithms~\cite{elson2010,grayson2016}. 

Here we intend to do a somewhat different analysis. We compare 
social networks extracted from texts with pure fictional, 
legendary and biographical nature. 
From this corpus we try to find if there are indexes able to
differentiate or classify pure fiction, legendary accounts with some 
historical traces and historical biography. Our main question is:
legendary accounts are more like pure fiction or more like
modern biographies?

In particular, we study a recent node centrality index, the Lobby 
index~\cite{korn2009,campiteli2013,lu2016}. We give
correlation plots for the Lobby index versus Degree, Betweenness and 
Closeness centralities to see if it contain
independent information that could be used for our task.
we note that even negative results are very useful, because they
refute, in a Popperian way, the conjectures that network indexes
can separate these genres.

\section{Materials and Methods}
\label{Methods}

The networks of characters  from the following books:
Bernard Cornwell's \emph{The Winter King: a novel of
Arthur}~\cite{cornwell2007} (from here, \emph{Arthur}),
Charles Dickens \emph{David Copperfield}~\citep{sgb} (\emph{David}),
J. R. R. Tolkien's \emph{The Hobbit}~\cite{tolkien2012} (\emph{Hobbit}), 
Mark Twain's \emph{Huckleberry Finn}~\citep{sgb} (\emph{Huck}),
\emph{Luke Gospel}~\cite{holybible} (\emph{Luke}), 
\emph{Acts of the Apostles}~\cite{holybible} (\emph{Acts}), 
Iamblicus's \emph{Life of Pytaghoras}~\cite{taylor1986}
(\emph{Pytaghoras}), James Gleick's \emph{Isaac Newton}~\cite{gleick2003}
(Newton), and Humphrey Carpenter's \emph{Tolkien: a
Biography}~\cite{carpenter2014} (\emph{Tolkien}). 

We use an operational definition of fictional, 
legendary and biographical
works. By pure fiction we denote an account that is recognized as such
by the author of the book (\emph{Arthur}, \emph{David}, \emph{Hobbit}, \emph{Huck}). 
Legendary accounts are those that, in the view of modern scholars,
contain fictional narratives mixed 
with possible biographical traces (\emph{Lucas}, \emph{Acts}, \emph{Pythagoras}).
Finally, biographical works are those recognized as such by
modern standards (Newton, Tolkien). 

The networks were created with the $N$ characters 
represented by nodes and social links an $N\times N$
adjacency matrix $A_{ij} \in [0,1]$ that register if two
characters know personally each other. All network
data were manually extracted by us, with the exception of 
\emph{David Copperfield} and \emph{Huckleberry Finn} 
that were obtained from the Stanford GraphBase project~\citep{sgb}.

The following measures were calculated using NetworkX 
Python package: average clustering coefficient 
$\left\langle CC\right\rangle$, 
Density $D$, node Degree $K_i$, node
Betweenness $B_i$ and node Closeness $C_i$.We also wrote a Python script to 
evaluate the recently proposed Lobby
index for node centrality~\cite{korn2009,
campiteli2013,lu2016}. 
Additional information about the data and source code can be found 
at GitHub page for the project called 
CharNet\footnote{\url{https://ajholanda.github.io/charnet/}}.

The density $D$  of a graph is the ratio of the number of links and the 
possible number of links $N(N-1)/2$.  The 
number of the node's neighbors is $K_i$ and the network
global Degree  is $K = 1/N \sum_i^N K_i$. 
The clustering coefficient $C_C$  is calculated as follows:
coefficient:
\begin{equation}
\left\langle CC \right\rangle = 
\frac{1}{N} \sum_{i=1}^N {2L_i \over {K_i(K_i-1)}} \:,
\end{equation}
\noindent where  $L_i$ is the number 
of links between the $K_i$ neighbors of node $i$. 

The individual Degree $K_i$ of a node can be used as a measure
of its centrality and can be normalized as 
$K_i^N = K_i/N$. Other centrality measures are Betweenness and
Closeness. The Betweenness centrality $B_i^N$ is  defined 
as the number of shortest paths that 
pass through a node $i$, normalized 
by the number of pair of nodes not including $i$, that 
is $(N-1)(N-2)/2$. The Closeness centrality $C_i$ is  defined as 
the sum of shortest distances 
between a node $i$ and all other reachable nodes.
This also can be normalized to a maximum value $C^N_i=1$.
A character Lobby index is the maximum value $L_i$ such that there 
exists at least $L_i$ neighbors of degree no less than  $L_i$.
It also can be normalized as $L_i^N = L_i/N$.

Finally, we can study the frequency $f_i$ that a given 
character name appear in the text. Notice that, due to
operational reasons, we counted only
explicit references to the name, not pronouns 
or indirect references to the character.

\section{Results}
\label{Results}

%%% FREQUENCY RANK

\paragraph{Name frequencies} We ranked the frequencies $f_i$ in descending order,
so that each character now has a rank $R$ and a frequency $F(R)$.
The plot $F(R)$ is presented in Fig.~\ref{fig:zipf}. We 
normalize so that $F(R=1)=1$ and the horizontal axis is 
$R/R_{\mathbf{max}}$.

\begin{figure}[ht]
	\centering
  		\subfloat[Non-normalized]{{\includegraphics[width=.6\textwidth]{figure1a.pdf}}}
		\qquad
 		\subfloat[Normalized]{{\includegraphics[width=.6\textwidth]{figure1b.pdf}}}
		\caption{Zipf curves for character appearance frequency.}
        \label{fig:zipf}
\end{figure}

%%% GLOBAL
\paragraph{Global indexes} 
In Table~\ref{tab:global} we show the global indexes average degree $K$,
average clustering coefficient $CC$ and density $D$.

\begin{table}[ht]
\centering\small
{\small\begin{tabular}{l|c|c|c|c|c}\hline
\bf\hfil Book\hfil  & \bf\hfil N\hfil  & \bf\hfil Links\hfil  
& \hfil $\bf K $\hfil  & \hfil $\bf CC$ 
\hfil  & \bf\hfil D\hfil  \\ \hline
 \emph{Acts} & 75 & 160 & 4.27$\pm$5.19 & 0.316 & 0.058\\ 
\emph{Arthur} & 108 & 155 & 2.87$\pm$4.21 & 0.005 & 0.027\\ 
\emph{David} & 87 & 406 & 9.33$\pm$10.56 & 0.351 & 0.109\\ 
\emph{Hobbit} & 65 & 161 & 4.95$\pm$5.21 & 0.000 & 0.077\\ 
\emph{Huck} & 74 & 301 & 8.14$\pm$7.39 & 0.488 & 0.111\\ 
\emph{Luke} & 76 & 203 & 5.34$\pm$8.15 & 0.340 & 0.071\\ 
\emph{Newton} & 46 & 44 & 1.91$\pm$2.16 & 0.000 & 0.043\\ 
\emph{Pythagoras} & 41 & 31 & 1.51$\pm$2.20 & 0.027 & 0.038\\ 
\emph{Tolkien} & 127 & 282 & 4.44$\pm$9.14 & 0.126 & 0.035\\ 
\hline\end{tabular}}
\caption{Global network indexes for the books} 
\label{tab:global}
\end{table}

\paragraph{Node centrality indexes} 
Remember that index $i = 1, \ldots , N$ enumerates individuals in a
network with $N$ characters.
We examine correlation plots between classical centrality indexes
(Degree Betweenness and Closeness)
and the recently introduced Lobby index. 
These are local centrality indexes.

\begin{figure}[ht]
\centering
\includegraphics[width=\linewidth]{Degree.pdf}
\caption{\label{FigD} Correlation plots for Lobby versus Degree centrality 
with Pearson correlation $r$ at the top.}
\end{figure}

We plot in Fig.~\ref{FigD} the normalized 
Lobby index $L^N_i$ versus the normalized 
degree $K^N_i$ for all characters (some graphs as \emph{Pythagoras}
show few points because they have the same $(L^N_i,K^N_i)$).
What we see is that there is an initial linear
correlation between the Degree and Lobby indexes followed by
a saturation. This can be understood because it is much harder
for the Lobby index to grow after some point. For example,
it is possible for the central character 
to have degree $D^N_i=(N-1)/N \approx 1$
(he/she knows all the other personages) but for having
$L_i^N \approx 1$ we would need an all-to-all (complete) graph
where not only the central character knows all the people,
but also any of his/her neighbors also knowns all the people.

Comparing all the nine plots, it seems that they are mostly
equal and correlation between Lobby and Degree can not separate
the book genres. See, for example, the plots for
\emph{David}, \emph{Huck}, \emph{Luke} 
and \emph{Tolkien}, which are almost indistinguishable.

\begin{figure}[ht]
\centering
\includegraphics[width=\linewidth]{Betweenness.pdf}
\caption{\label{FigB} Correlation plots for Lobby 
versus Betweenness centrality 
with Pearson correlation $r$ at the top.}
\end{figure}

The Pearson correlation is weak between
Lobby and Betweenness (Fig.~\ref{FigB}). We also notice that
the correlation is greater for the biographies than for
most of the fictional and legendary texts. 
However, the fictional book \emph{Arthur} has a 
larger correlation than \emph{Tolkien}, 
so we have a counterexample for that trend.

\begin{figure}[ht]
\centering
\includegraphics[width=\linewidth]{Closeness.pdf}
\caption{\label{FigC} Correlation plots for  
Lobby versus Closeness centrality 
with Pearson correlation $r$ at the top.}
\end{figure}

We observe an interesting phenomenon in 
the Lobby vs Closeness plot (Fig.~\ref{FigC}):
show clusters in the data, a feature already found in a study
of biological networks~\cite{campiteli2013}. 
It seems that Lobby can detect clusters or communities that
the other indexes cannot detect. However,
these clusters appear in \emph{Huck}, \emph{David},
\emph{Luke} and \emph{Tolkien}. So, anew, these correlation plots 
cannot separate the book genres.

We notice that the \emph{Pythagoras} 
plot is very poor because several
characters have the same Closeness. 
The \emph{Pythagoras} character's 
network has a low number of links when compared 
with other networks used in the study. However we maintained 
\emph{Pythagoras} in our sample because this 
book is a prime example of legendary account. It also gives
us an idea about the behavior of books with small number
of characters.

%%% HAPAX LEGOMENA

\paragraph{Hapax Legomena}
Finally, we found a very simple measure that has the potential
of distinguishing the books. 
From literary criticism we have that words that 
appear a single time in a text are called 
\emph{Hapax Legomena}.
Here we consider only \emph{Hapax Legomena} (HL) for character names,
that is, names with frequency $f_i=1$. They are presented 
in Table~\ref{tab:hapax},
with the books ranked from the largest to the lowest
\emph{Hapax Legomena} ratio $HL^N= HL/N$ (number $HL$ of names with 
$f_i = 1$ divided by  total number of characters $N$).
We also report \emph{Dis Legomena} (DL) names,
that is, names with $f_i=2$. 

\begin{table}[ht]
\centering\small
\begin{tabular}{l|c|c}\hline 
\bf Book &  $\bf HL^N=H/N$ & $\bf DL^N=DL/N$ \\ \hline 
\emph{Newton} & 41/46 = 0.891 & 14/46 = 0.304 \\
\emph{Acts} & 51/75 = 0.680 & 13/75 = 0.173 \\
\emph{Luke} & 51/76 = 0.671 & 15/76 = 0.197 \\
\emph{Tolkien} & 65/127 = 0.512 & 28/127 = 0.220 \\
\emph{Pythagoras} & 21/41 = 0.512 & 08/41 = 0.195 \\
\emph{Arthur} & 52/108 = 0.481 & 20/108 = 0.185 \\
\emph{Huck} & 32/74 = 0.432 & 19/74 = 0.257 \\
\emph{David} & 26/87 = 0.299 & 09/87 = 0.103 \\
\emph{Hobbit} & 18/65 = 0.277 & 10/65 = 0.154 \\
\hline\end{tabular}
\caption{Number of character 
names that are \emph{Hapax legomena} $H$ divided by 
total number $N$ of characters. The books have been 
listed in descending order for $H^N$.}
\label{tab:hapax}
\end{table}

\section{Discussion}

To distinguish between real social networks 
from purely fictional ones is a hard
task~\cite{alberich2002,gleiser2007}. 
The issue complicates when we study legendary texts, which we define
as text that cannot be trusted as historical 
biographies but could have
some historical traces due to oral traditions. That is,
we have no certain that the social network described is
fictional or some information refers to true historical
social relations. This is the case of the narratives 
about Pythagoras, Jesus of Nazareth and the first apostles. 

Indeed, the normalized frequency $F(R)$ of name citations
follows a Zipf law (for character citation, not for words!), 
is universal and does not
depend on the literary genera examined, see Fig.~\ref{fig:zipf}.
Of course this need be confirmed with a larger corpora, but
anyway it suggest that $F(R)$ is not a good indicator 
to distinguish historical from fictional accounts.

In the case of the global indexes as 
clustering coefficient, density, diameter
and average minimum length (Table~\ref{tab:global}), we see no
trend that separates the genres. This
suggests that these global indexes are not good tools to classify
the texts, depends strongly of the size and structure
(number of characters) of the books, 
a conclusion already advanced
in~\cite{alberich2002,gleiser2007}.

Recently, Ronqui and Travieso~\cite{ronqui2015} 
proposed that the analysis of correlations between 
centrality indexes is interesting to characterize 
and distinguish between natural and artificial networks.
We examined the correlation plots for the Lobby index versus 
Degree (Fig.~\ref{FigD}), Betweenness (Fig.~\ref{FigB}) 
and Closeness (Fig.~\ref{FigC}). Such plots revealed that social
networks, fictional, legendary or historical, 
are very similar and cannot be easily distinguished.

Although these are negative results, we fell that they are
important ones. After all, with such small sample, we
can not aim to have corroboration by induction (a large
number of results suggesting some conclusion).
Indeed, even with perhaps a sample of one thousand books, nothing
prevents that the next one (or the next thousand ones)
refutes the conclusions (induction is never secure).
On the other hand, negative results refute conjectures,
as Popper so clearly showed. And, indeed, our small sample
refutes a lot of \emph{a priori} conjectures concerning the
capacity of traditional network indexes to separate the genres.

However, another idea could be that there is 
no clear motivation for a writer of a pure fictional 
work to introduce a character in a single scene, 
and cite his/her name only one or two times.
Such constraint is weaker for biographies, where characters appear
due to historical events and not from the special creative
work of the author. This is also valid for legendary accounts, 
that are more fragmented and follows ancient writing styles. 
So, our hypothesis is that 
the presence of \emph{name Hapax legomena}  for names would be 
more rare in pure fiction. 

This hypothesis, indeed, is confirmed by our data: there is a clear 
trend in Table~\ref{tab:hapax} where pure fictional works have less
\emph{Hapax Legomena} per character, 
in the interval $[0.277; 0.481]$;
modern biographies are in the interval $[0.512;0.891]$; 
and ancient legendary accounts lie in the interval $[0.512;0.680]$.
This means that a value of $0.5$ separates pure fiction form the
other books. We think that this preliminary result, 
which distinguishes legendary and historical 
works from pure fiction, is important and 
makes intuitive sense. This trend, however, is not 
observed for the \emph{Dis Legomena} data.
Of course, this must be confirmed 
by a larger study but, by now, the idea about 
\emph{Hapax Legomena} seems to be promising and has not been refuted.

\section{Conclusion and Perspectives}

In this paper we examined  three questions:  first, is there
some difference  between  pure  fictional  social  networks
(centered in a main character), legendary social networks
and  networks  extracted from  a historical  biography?
Second, are there complex network indexes 
with potential to separate these genres? Third,  what  is the
behavior of the  recently introduced Lobby index at this respect?

This first study is important by posing the problem and
exploring its possible solutions.
Even with a small sample, our findings seems 
to refute some ideas like to use the
name frequency $F(r)$ and global indicators as 
clustering coefficient, density, 
diameter and average minimum length as discriminators. 
Also, by examining local node centrality indexes like 
Degree, Closeness, Betweenness and Lobby,
what we obtain that to separate the genres by
using only the social networks is a hard and non trivial task.
Although negative, these results are important as guide
for future research.

To overcome the limitations of this paper, 
we foresee only a (non trivial)
methodological advance: to have a good algorithm that 
extracts automatically social networks from raw texts. 
Since this methodology is yet under
development~\cite{elson2010,grayson2016}, 
our study can be thought as both 
preliminary and as a benchmark for further studies.

Although our literary corpus is very small, this work
intends to present a methodology for the study of the
old question about how to extract historical information from
legendary accounts: to examine the characters social networks. 
We are aware that our results statistically 
prove nothing, but refutes possible approaches.
Our work also suggests  that the
use of the fraction of \emph{Hapax Legomena} and \emph{Dis Legomena}
for names could separate the fictional texts from the legendary and
biographical ones.  
This seems to be a very simple but important result and could reflect
the fact that legendary accounts could have some traces
of true historical social networks.

\section*{Acknowledgments}
This paper results from research activity on the 
FAPESP Center for Neuromathematics (FAPESP grant 2013/07699-0). 
OK received support from N\'ucleo de Apoio \'a Pesquisa 
CNAIPS-USP. 

\section*{Author contributions statement}

GMLB, SMF, MM and AJH extracted the books social networks and 
name frequency data. AJH organized the public data bank, 
performed the complex network analysis and analyzed the data.
OK proposed the original problem and analyzed the data. AJH and
OK wrote the paper. All authors reviewed the manuscript.

\section*{Competing financial interests} The authors 
declare no competing financial interests.

\section*{References}

\bibliographystyle{elsarticle-num} 
\bibliography{litbib}

\end{document}